(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5273fb04"],{2642:function(e,t,c){"use strict";c.d(t,"o",(function(){return d})),c.d(t,"n",(function(){return a})),c.d(t,"s",(function(){return r})),c.d(t,"m",(function(){return s})),c.d(t,"r",(function(){return n})),c.d(t,"k",(function(){return o})),c.d(t,"j",(function(){return p})),c.d(t,"h",(function(){return l})),c.d(t,"b",(function(){return u})),c.d(t,"c",(function(){return f})),c.d(t,"p",(function(){return b})),c.d(t,"f",(function(){return m})),c.d(t,"g",(function(){return D})),c.d(t,"i",(function(){return B})),c.d(t,"l",(function(){return h})),c.d(t,"e",(function(){return y})),c.d(t,"a",(function(){return A})),c.d(t,"d",(function(){return g})),c.d(t,"q",(function(){return S}));var i=c("66df"),d=function(e,t,c){return i["a"].request({url:"/api/standardValues/getSopTagFilteByEquipment?qc1soptagId=".concat(e,"&qc2soptagId=").concat(t,"&qcIndex=").concat(c),method:"get"})},a=function(e){return i["a"].request({url:"/api/testprocess/getSopByQcIndex?qcIndex=".concat(e),method:"get"})},r=function(e){return i["a"].request({url:"/api/testprocess/setProductLineSnBySop",method:"post",data:e})},s=function(){return i["a"].request({url:"/api/testprocess/getLineSn",method:"get"})},n=function(e){return i["a"].request({url:"/api/testprocess/removeTask?id=".concat(e),method:"get"})},o=function(){return i["a"].request({url:"/api/equipment/getAllEquipmentFunctype",method:"get"})},p=function(e,t,c){return i["a"].request({url:"/api/testprocess/findTaskByPage?pageIndex=".concat(e,"&pageSize=").concat(t,"&lineno=").concat(c),method:"get"})},l=function(e,t,c){return i["a"].request({url:"/api/testprocess/findSopByPage?pageIndex=".concat(e,"&pageSize=").concat(t,"&qc=").concat(c),method:"get"})},u=function(e){return i["a"].request({url:"/api/testprocess/addSop",method:"post",data:e})},f=function(e){return i["a"].request({url:"/api/testprocess/editSop",method:"post",data:e})},b=function(e){return i["a"].request({url:"/api/testprocess/removeSop?sopId=".concat(e),method:"get"})},m=function(e){return i["a"].request({url:"/api/testprocess/findAllItemParam?qcIndex=".concat(e),method:"get"})},D=function(e){return i["a"].request({url:"/api/testprocess/findSopByKey?funcTypeId=".concat(e),method:"get"})},B=function(e){return i["a"].request({url:"/api/testprocess/findSopItemBySop?sopid=".concat(e),method:"get"})},h=function(e){return i["a"].request({url:"/api/testprocess/GetItemParamAddByItemId?itemId=".concat(e),method:"get"})},y=function(e){return i["a"].request({url:"/api/testprocess/EditSopItemPlcAdd",method:"post",data:e})},A=function(e){return i["a"].request({url:"/api/testprocess/AddItemParamPlcAdd",method:"post",data:e})},g=function(e){return i["a"].request({url:"/api/testprocess/EditSopItemParamAdd",method:"post",data:e})},S=function(e){return i["a"].request({url:"/api/testprocess/RemoveSopItemParamAdd?id=".concat(e),method:"get"})}},"3eaf":function(e,t,c){"use strict";c.d(t,"c",(function(){return i})),c.d(t,"b",(function(){return d})),c.d(t,"a",(function(){return a}));var i=[{id:1,typeName:"综合检测"},{id:2,typeName:"静音检测"}],d={1:[{items:[{code:143,description:"顺转二",sopId:6,plcRusltAddr:null,sort:1,createBy:null,createTime:"2019-12-13 13:28:28",id:"fc84807c90b546ecb66b21552d917e32"},{code:142,description:"顺转一",sopId:6,plcRusltAddr:null,sort:2,createBy:null,createTime:"2019-12-13 13:28:28",id:"ecf8d9fca4444c94adb0cfc86762da73"},{code:144,description:"顺转三",sopId:6,plcRusltAddr:null,sort:3,createBy:null,createTime:"2019-12-13 13:28:28",id:"471d10c0ffe54ea1838b93c8680a697a"},{code:145,description:"逆转一",sopId:6,plcRusltAddr:null,sort:4,createBy:null,createTime:"2019-12-13 13:28:28",id:"b4a749e023a14fd993a5ad628f8c4a44"},{code:146,description:"逆转二",sopId:6,plcRusltAddr:null,sort:5,createBy:null,createTime:"2019-12-13 13:28:28",id:"d47890a49fb149ffbbf08ec9410378bc"},{code:147,description:"逆转三",sopId:6,plcRusltAddr:null,sort:6,createBy:null,createTime:"2019-12-13 13:28:28",id:"aa8e630312ea4713ab824fd239795a37"},{code:148,description:"后置工序",sopId:6,plcRusltAddr:null,sort:7,createBy:null,createTime:"2019-12-13 13:28:28",id:"baecf7d274e64ead8e02c8a010213f85"}],id:6,sop:"SOP.1.0008",sopDescription:"R型",qc:1,status:1,lineNo:0},{items:[{code:146,description:"前置工序",sopId:1,plcRusltAddr:"DB41.DBW314",sort:1,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:15:17",id:"af6c0e54a40d4070a5104452c256ce68"},{code:147,description:"顺转1",sopId:1,plcRusltAddr:"DB41.DBW94",sort:2,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:15:45",id:"511dc182e39146398338258d13e2473c"},{code:148,description:"顺转2",sopId:1,plcRusltAddr:"DB41.DBW96",sort:3,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:17:31",id:"0c83d621c1d4466da06fc4d267653c89"},{code:149,description:"顺转3",sopId:1,plcRusltAddr:"DB41.DBW98",sort:4,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:20:35",id:"a057791c6e574345912f7d55212b9eb9"},{code:150,description:"逆转1",sopId:1,plcRusltAddr:"DB41.DBW100",sort:5,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:24:04",id:"10bfb5d958da470c849e2bc4ef0906b6"},{code:151,description:"逆转2",sopId:1,plcRusltAddr:"DB41.DBW102",sort:6,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:25:23",id:"f1cc6c4adfa142a5b524683fea0d3ec0"},{code:152,description:"逆转3",sopId:1,plcRusltAddr:"DB41.DBW104",sort:7,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:25:37",id:"cda963546a83476f8dab0b3b618c6782"},{code:153,description:"验证上行程",sopId:1,plcRusltAddr:"DB41.DBW108",sort:8,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:29:05",id:"30a288e5b19f4aeb991ddd9fbee0ff95"},{code:154,description:"验证下行程",sopId:1,plcRusltAddr:"DB41.DBW108",sort:9,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:30:03",id:"083975573c24426d9b425b8521f79066"},{code:155,description:"后置工序",sopId:1,plcRusltAddr:"DB41.DBW316",sort:10,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:31:06",id:"e633f29f83f4426c83f1ac80b83dfda3"}],id:1,sop:"SOP.1.1000",sopDescription:"前序 顺三 逆三 验证行程 后序",qc:1,status:1,lineNo:0},{items:[{code:145,description:"前置工序",sopId:3,plcRusltAddr:"DB41.DBW314",sort:1,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:36:11",id:"82b2e3ecaa7140f3a7b0b8defa2f9ef4"},{code:146,description:"顺转1",sopId:3,plcRusltAddr:"DB41.DBW94",sort:2,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:36:39",id:"161908f7e3514396953f992354c00d45"},{code:147,description:"顺转2",sopId:3,plcRusltAddr:"DB41.DBW96",sort:3,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:37:40",id:"f17c870077a742068524cfdeca4918d1"},{code:148,description:"顺转3",sopId:3,plcRusltAddr:"DB41.DBW98",sort:4,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:38:33",id:"13c3ea05ca484e1fad3c58989a810743"},{code:149,description:"逆转1",sopId:3,plcRusltAddr:"DB41.DBW100",sort:5,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:43:17",id:"0de077d3a307494a8834821a57ba6c72"},{code:150,description:"逆转2",sopId:3,plcRusltAddr:"DB41.DBW102",sort:6,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:43:58",id:"fea543e632c245e989d19fef759dc388"},{code:151,description:"逆转3",sopId:3,plcRusltAddr:"DB41.DBW104",sort:7,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:44:52",id:"4b058bca26054cb28ecc07c5f20f5bd0"},{code:152,description:"验证上行程",sopId:3,plcRusltAddr:"DB41.DBW106",sort:8,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:47:29",id:"0543978553fb41938c50bf21b878d713"},{code:153,description:"验证下行程",sopId:3,plcRusltAddr:"DB41.DBW108",sort:9,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:48:06",id:"6ce8d982559449f4a7d01921f767ce33"}],id:3,sop:"SOP.1.1001",sopDescription:"前序 顺三 逆三 验证行程",qc:1,status:1,lineNo:0},{items:[{code:142,description:"顺转一",sopId:7,plcRusltAddr:"DB41.DBW94",sort:1,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-16 14:30:37",id:"b8ba577338bb4f228b98e9be387ef780"},{code:143,description:"顺转二",sopId:7,plcRusltAddr:"DB41.DBW96",sort:2,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 15:43:27",id:"5e289b5af88641ddb5de36366008006c"},{code:144,description:"顺转三",sopId:7,plcRusltAddr:"DB41.DBW98",sort:3,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 15:44:44",id:"fed8cb561e6648c8ba25d4f9fb7a5fa9"},{code:145,description:"逆转一",sopId:7,plcRusltAddr:"DB41.DBW100",sort:4,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 15:48:45",id:"3cd486bc76d94e95a9bc7a4dafd04711"},{code:146,description:"逆转二",sopId:7,plcRusltAddr:"DB41.DBW102",sort:5,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 15:49:34",id:"cdab4d4f15144a08a4cbcab18f0de2c9"},{code:147,description:"逆转三",sopId:7,plcRusltAddr:"DB41.DBW104",sort:6,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 15:50:18",id:"3088132d3e7d498ea7fb77c9536ee689"},{code:149,description:"验证上行程",sopId:7,plcRusltAddr:"DB41.DBW106",sort:7,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 15:52:03",id:"fe391f54262b42e09c9dc1d280999c29"},{code:150,description:"验证下行程",sopId:7,plcRusltAddr:"DB41.DBW108",sort:8,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 15:48:07",id:"c8fadbc27ea64e298ff8c69c6d0ade13"},{code:148,description:"后置工序",sopId:7,plcRusltAddr:"DB41.DBW316",sort:9,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 15:47:39",id:"5d9cc9aa537f47cabb7b1951a08f8eed"}],id:7,sop:"SOP.1.1002",sopDescription:"顺一，顺二，顺三，顺四，逆一，逆二，逆三，逆四，后置工序",qc:1,status:1,lineNo:0}],2:[{items:[{code:247,description:"前置工序",sopId:2,plcRusltAddr:"DB42.DBW108",sort:1,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:50:27",id:"191b4443883e475b988033d11a680bcd"},{code:242,description:"低压",sopId:2,plcRusltAddr:"DB42.DBW94",sort:2,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:33:31",id:"5a948b4132e648e19cf246fc3688d0bd"},{code:248,description:"顺转噪音",sopId:2,plcRusltAddr:"DB42.DBW96",sort:3,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:35:22",id:"00b8581681924188bd52a004d9abca74"},{code:249,description:"逆转噪音",sopId:2,plcRusltAddr:"DB42.DBW102",sort:4,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:35:58",id:"1d67e957fbad4b36848b6ef44d517f3d"},{code:250,description:"交耐",sopId:2,plcRusltAddr:"DB42.DBW98",sort:5,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:51:14",id:"fa08c246801144f6865e95af77b5f883"},{code:245,description:"接地",sopId:2,plcRusltAddr:"DB42.DBW100",sort:6,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:39:20",id:"1e60cafb27974259a734835d05af034b"},{code:251,description:"后置工序",sopId:2,plcRusltAddr:"DB42.DBW110",sort:7,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:40:08",id:"7b5de8d23689484c9b9a97527d8879dc"}],id:2,sop:"SOP.2.1000",sopDescription:"前序 低压 噪音 交耐 接地 后序",qc:2,status:1,lineNo:0},{items:[{code:246,description:"前置工序",sopId:4,plcRusltAddr:"DB42.DBD128",sort:1,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:53:59",id:"80661e76e47444d4a3255fd0702d2aee"},{code:242,description:"低压",sopId:4,plcRusltAddr:"DB42.DBW94",sort:2,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:51:27",id:"ca31f93654d441b4adfee43bc018ed12"},{code:247,description:"顺转噪音",sopId:4,plcRusltAddr:"DB42.DBW96",sort:3,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:54:20",id:"8142997bf65240a39ad7107a1dccb208"},{code:248,description:"逆转噪音",sopId:4,plcRusltAddr:"DB42.DBW102",sort:4,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:54:56",id:"eb61bda17a2b448996a3ee1a71e43c75"},{code:244,description:"交耐",sopId:4,plcRusltAddr:"DB42.DBW102",sort:5,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:51:54",id:"fd70161339354c8b9230dcc37f63266b"},{code:245,description:"接地",sopId:4,plcRusltAddr:"DB42.DBW100",sort:6,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:53:25",id:"569b5c569ce545fbbea75b5e48be92da"}],id:4,sop:"SOP.2.1001",sopDescription:"前序 低压 噪音 交耐 接地",qc:2,status:1,lineNo:0},{items:[{code:246,description:"低压",sopId:5,plcRusltAddr:"DB42.DBW94",sort:1,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:59:26",id:"cc63bfc9c43644c680bfa6830706436f"},{code:247,description:"顺转噪音",sopId:5,plcRusltAddr:"DB42.DBW96",sort:2,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 10:59:53",id:"adedebd65992418f9585d4cc537b8787"},{code:248,description:"逆转噪音",sopId:5,plcRusltAddr:"DB42.DBW102",sort:3,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 11:01:23",id:"0702e77b41ce481ba247ef72c12544b2"},{code:249,description:"交耐",sopId:5,plcRusltAddr:"DB42.DBW98",sort:4,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 11:03:18",id:"64b1667cedfc420d98bfc5cbaf317490"},{code:250,description:"接地",sopId:5,plcRusltAddr:"DB42.DBW100",sort:5,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 11:05:03",id:"43d16fbec8b94a25831ecece5ebe4fa4"},{code:251,description:"后置工序",sopId:5,plcRusltAddr:"DB42.DBW110",sort:6,createBy:"c5c0ecdd-f969-4300-a187-f80a6251b773",createTime:"2019-12-13 11:05:28",id:"ebd8a2898bbe45c991fb10ef6e3e1ec2"}],id:5,sop:"SOP.2.1002",sopDescription:"低压 噪音 交耐 接地 后序",qc:2,status:1,lineNo:0}],3:[]},a={1:[{description:"前置工序"},{description:"顺转一"},{description:"顺转二"},{description:"顺转三"},{description:"逆转一"},{description:"逆转二"},{description:"逆转三"},{description:"后置工序"}],2:[{description:"低压测试"},{description:"顺转噪音"},{description:"逆转噪音"},{description:"交耐测试"},{description:"接地测试"}]}},"8f7e":function(e,t,c){"use strict";var i=c("db2d"),d=c.n(i);d.a},b791:function(e,t,c){"use strict";c.r(t);var i=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"dooya-container"},[c("Card",[c("Tabs",{on:{"on-click":e.tabSelect}},e._l(e.tabList,(function(t){return c("TabPane",{key:t.id,attrs:{label:t.typeName,name:t.id}},[c("div",{staticStyle:{margin:"10px 0"}},[c("Select",{staticStyle:{width:"200px"},attrs:{filterable:"",transfer:"",placeholder:"请选择sop"},on:{"on-change":e.sopSearch},model:{value:e.sopSelected,callback:function(t){e.sopSelected=t},expression:"sopSelected"}},e._l(e.sopSelectList,(function(t){return c("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.sop))])})),1)],1),c("Table",{attrs:{border:"","disabled-hover":"",loading:e.tableLoading,data:e.tableData,columns:e.tableColumns,"no-data-text":"请选择SOP，或配置该SOP的相关工序",stripe:""}})],1)})),1)],1),c("Modal",{attrs:{"mask-closable":!1,"footer-hide":"",title:"参数选择",width:"620"},on:{"on-visible-change":e.handleVisibleChange},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[c("Form",{ref:"formModalData",attrs:{model:e.modalData,"label-width":80},nativeOn:{submit:function(e){e.preventDefault()}}},[c("FormItem",{attrs:{label:"名称：",prop:"description"}},[c("Input",{attrs:{type:"text",disabled:"",placeholder:"请输入名称"},model:{value:e.modalData.description,callback:function(t){e.$set(e.modalData,"description",t)},expression:"modalData.description"}})],1),c("FormItem",{staticStyle:{height:"32.89px"},attrs:{label:"结果值：",prop:"plcResultAdd"}},[c("Checkbox",{on:{"on-change":e.resultValueOnchange},model:{value:e.resultValueShow,callback:function(t){e.resultValueShow=t},expression:"resultValueShow"}}),e.resultValueShow?c("Input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{disabled:!e.resultValueCanBeEdit,type:"text",placeholder:"请输入结果值"},model:{value:e.modalData.plcResultAdd,callback:function(t){e.$set(e.modalData,"plcResultAdd","string"===typeof t?t.trim():t)},expression:"modalData.plcResultAdd"}}):e._e(),e.resultValueShow?c("div",{staticStyle:{float:"right","margin-right":"10px"}},[c("Button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:e.resultValueCanBeEdit,type:"primary",size:"small"},on:{click:function(t){e.resultValueCanBeEdit=!e.resultValueCanBeEdit}}},[e._v("修改\n          ")]),c("Button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:!e.resultValueCanBeEdit,type:"success",size:"small",loading:e.buttonLoading},on:{click:e.resultValueSubmit}},[e._v("确认\n          ")])],1):e._e()],1),c("FormItem",{staticStyle:{"margin-bottom":"14px"},attrs:{label:"参数：",prop:"describe"}},[c("CheckboxGroup",{on:{"on-change":e.describeOnChange},model:{value:e.modalDataDescribe,callback:function(t){e.modalDataDescribe=t},expression:"modalDataDescribe"}},e._l(e.processSelectList,(function(t,i){return c("Checkbox",{key:i,attrs:{disabled:JSON.stringify(e.describeParams).indexOf(t.description)>-1,label:t.code}},[c("span",[e._v(e._s(t.description))])])})),1),0!==e.modalDataDescribe.length?c("div",[c("Select",{ref:"processSelect",staticStyle:{margin:"10px 10px 0 0",width:"120px"},attrs:{clearable:"",placeholder:"请选择参数"},model:{value:e.processSelected,callback:function(t){e.processSelected=t},expression:"processSelected"}},e._l(e.processTempList,(function(t,i){return c("Option",{key:i,attrs:{value:t.id}},[e._v(e._s(t.description))])})),1),c("Select",{ref:"valueSelect",staticStyle:{margin:"10px 10px 0 0",width:"120px"},attrs:{clearable:"",placeholder:"请选择值"},model:{value:e.valueSelected,callback:function(t){e.valueSelected=t},expression:"valueSelected"}},e._l(e.valueSelectList,(function(t,i){return c("Option",{key:i,attrs:{value:t.key}},[e._v(e._s(t.value))])})),1),c("Input",{staticStyle:{width:"100px","margin-right":"10px","vertical-align":"bottom"},attrs:{type:"text",placeholder:"请输入"},model:{value:e.processPlcAdd,callback:function(t){e.processPlcAdd="string"===typeof t?t.trim():t},expression:"processPlcAdd"}}),c("Button",{staticStyle:{"vertical-align":"text-top"},attrs:{type:"info",size:"small",disabled:""===e.processSelected||void 0===e.processSelected||""===e.valueSelected||void 0===e.valueSelected||""===e.processPlcAdd,loading:e.buttonLoading},on:{click:e.addParams}},[e._v("添加\n          ")])],1):e._e(),0!==e.describeParams.length?c("div",{staticClass:"describe-params"},e._l(e.describeParams,(function(t,i){return c("div",{key:i,staticClass:"describe-params-content"},[c("span",[e._v("\n              "+e._s(t.paramDescription)+"\n            ")]),c("span",{staticStyle:{width:"80px"}},[e._v("\n              "+e._s(1===t.plcType?"下限":2===t.plcType?"上限":"过程值")+"\n            ")]),c("span",[c("Input",{staticStyle:{width:"100px"},attrs:{disabled:!t.isEdit},model:{value:t.plCAdd,callback:function(c){e.$set(t,"plCAdd","string"===typeof c?c.trim():c)},expression:"describe.plCAdd"}})],1),c("div",{staticStyle:{float:"right",margin:"10px 10px 0 0"}},[c("Button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:t.isEdit,type:"primary",size:"small"},on:{click:function(e){t.isEdit=!t.isEdit}}},[e._v("修改\n              ")]),c("Button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:!t.isEdit,type:"success",size:"small",loading:t.loading},on:{click:function(c){return e.submitParams(t)}}},[e._v("确认\n              ")]),c("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"error",size:"small"},on:{click:function(c){return e.deleteParams(t)}}},[e._v("删除\n              ")])],1)])})),0):e._e()],1)],1),e.spinShow?c("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)],1)},d=[],a=(c("55dd"),c("6b54"),c("ac6a"),c("96cf"),c("3b8d")),r={1:[{id:"1",description:"前置工序",params:[],plcResultAdd:"DB42.DBW120",describeParams:[]},{id:"2",description:"顺转一",params:[{description:"行程",id:"1",code:"1"},{description:"转速",id:"2",code:"2"},{description:"电压",id:"3",code:"3"},{description:"电流",id:"4",code:"4"},{description:"功率",id:"5",code:"5"}],plcResultAdd:"DB42.DBW121",describeParams:[{paramDescription:"行程(CM)",plcType:1,plCAdd:"DB42.DBW111",isEdit:!1,id:"1-1"},{paramDescription:"行程(CM)",plcType:2,plCAdd:"DB42.DBW113",isEdit:!1,id:"1-2"},{paramDescription:"转速(RPM)",plcType:2,plCAdd:"DB42.DBW130",isEdit:!1,id:"2-2"},{paramDescription:"电压(V)",plcType:1,plCAdd:"DB42.DBW135",isEdit:!1,id:"3-1"},{paramDescription:"电流(A)",plcType:3,plCAdd:"DB42.DBW235",isEdit:!1,id:"4-3"},{paramDescription:"功率(W)",plcType:3,plCAdd:"DB42.DBW220",isEdit:!1,id:"5-3"}]},{id:"3",description:"顺转二",params:[{description:"行程",id:"1",code:"1"},{description:"转速",id:"2",code:"2"},{description:"电压",id:"3",code:"3"},{description:"电流",id:"4",code:"4"},{description:"功率",id:"5",code:"5"}],plcResultAdd:"",describeParams:[{paramDescription:"行程(CM)",plcType:3,plCAdd:"DB42.DBW120",isEdit:!1,id:"1-3"},{paramDescription:"转速(RPM)",plcType:2,plCAdd:"DB42.DBW130",isEdit:!1,id:"2-2"},{paramDescription:"电压(V)",plcType:1,plCAdd:"DB42.DBW135",isEdit:!1,id:"3-1"},{paramDescription:"电流(A)",plcType:2,plCAdd:"DB42.DBW137",isEdit:!1,id:"4-2"},{paramDescription:"功率(W)",plcType:2,plCAdd:"DB42.DBW138",isEdit:!1,id:"5-2"}]},{id:"4",description:"顺转三",params:[{description:"行程",id:"1",code:"1"},{description:"转速",id:"2",code:"2"},{description:"电压",id:"3",code:"3"},{description:"电流",id:"4",code:"4"}],plcResultAdd:"DB42.DBW123",describeParams:[{paramDescription:"行程(CM)",plcType:2,plCAdd:"DB42.DBW99",isEdit:!1,id:"1-2"},{paramDescription:"转速(RPM)",plcType:2,plCAdd:"DB42.DBW130",isEdit:!1,id:"2-2"},{paramDescription:"电压(V)",plcType:1,plCAdd:"DB42.DBW135",isEdit:!1,id:"3-1"},{paramDescription:"电流(A)",plcType:1,plCAdd:"DB42.DBW132",isEdit:!1,id:"4-1"}]},{id:"5",description:"逆转一",params:[{description:"转速",id:"2",code:"2"},{description:"电压",id:"3",code:"3"}],plcResultAdd:"DB42.DBW124",describeParams:[{paramDescription:"转速(RPM)",plcType:2,plCAdd:"DB42.DBW142",isEdit:!1,id:"2-2"},{paramDescription:"电压(V)",plcType:2,plCAdd:"DB42.DBW147",isEdit:!1,id:"3-2"}]},{id:"6",description:"逆转二",params:[],plcResultAdd:"DB42.DBW125",describeParams:[]},{id:"7",description:"逆转三",params:[{description:"行程",id:"1",code:"1"},{description:"转速",id:"2",code:"2"},{description:"电压",id:"3",code:"3"},{description:"电流",id:"4",code:"4"}],plcResultAdd:"DB42.DBW126",describeParams:[{paramDescription:"行程(CM)",plcType:3,plCAdd:"DB42.DBW117",isEdit:!1,id:"1-3"},{paramDescription:"转速(RPM)",plcType:2,plCAdd:"DB42.DBW142",isEdit:!1,id:"2-2"},{paramDescription:"电压(V)",plcType:2,plCAdd:"DB42.DBW145",isEdit:!1,id:"3-2"},{paramDescription:"电流(A)",plcType:1,plCAdd:"DB42.DBW133",isEdit:!1,id:"4-1"}]},{id:"8",description:"后续工序",params:[],plcResultAdd:"DB42.DBW127",describeParams:[]}],2:[{id:"1",description:"顺转噪音",params:[{description:"分贝",id:"1",code:"1"}],plcResultAdd:"DB42.DBW112",describeParams:[{paramDescription:"分贝(dB)",plcType:1,plCAdd:"DB42.DBW333",isEdit:!1,id:"1-1"}]},{id:"2",description:"逆转噪音",params:[{description:"分贝",id:"1",code:"1"}],plcResultAdd:"",describeParams:[{paramDescription:"分贝(dB)",plcType:3,plCAdd:"DB42.DBW222",isEdit:!1,id:"1-3"}]},{id:"3",description:"交耐测试",params:[{description:"交耐电流",id:"2",code:"2"},{description:"接地电阻",id:"3",code:"3"}],plcResultAdd:"DB42.DBW114",describeParams:[{paramDescription:"交耐电流(mA)",plcType:1,plCAdd:"DB42.DBW330",isEdit:!1,id:"2-1"},{paramDescription:"交耐电流(mA)",plcType:2,plCAdd:"DB42.DBW334",isEdit:!1,id:"2-2"},{paramDescription:"接地电阻(mΩ)",plcType:1,plCAdd:"DB42.DBW335",isEdit:!1,id:"3-1"},{paramDescription:"接地电阻(mΩ)",plcType:2,plCAdd:"DB42.DBW336",isEdit:!1,id:"3-2"}]},{id:"4",description:"接地测试",params:[{description:"分贝",id:"1",code:"1"},{description:"交耐电流",id:"2",code:"2"},{description:"接地电阻",id:"3",code:"3"}],plcResultAdd:"DB42.DBW115",describeParams:[{paramDescription:"分贝(dB)",plcType:1,plCAdd:"DB42.DBW333",isEdit:!1,id:"1-1"},{paramDescription:"分贝(dB)",plcType:2,plCAdd:"DB42.DBW333",isEdit:!1,id:"1-2"},{paramDescription:"交耐电流(mA)",plcType:3,plCAdd:"DB42.DBW334",isEdit:!1,id:"2-3"},{paramDescription:"接地电阻(mΩ)",plcType:3,plCAdd:"DB42.DBW335",isEdit:!1,id:"3-3"}]}]},s={1:[{id:"C8B1362C0AA000019163C37E11781787",code:1,qc:1,description:"行程(CM)"},{id:"C8B1325198E00001B047134A96805040",code:2,qc:1,description:"转速(RPM)"},{id:"C8B1325199000001DCC116C71CAC1E40",code:3,qc:1,description:"电压(V)"},{id:"C8B1362C0B20000157CF1CC0D61511F6",code:4,qc:1,description:"电流(A)"},{id:"C8B1362C0B300001117C164E18B7FAE0",code:5,qc:1,description:"功率(W)"}],2:[{id:"C8B1362C0B400001C4D31DD0E810149B",code:1,qc:2,description:"分贝(dB)"},{id:"C8B1362C0B500001C17C1E021D191A5E",code:2,qc:2,description:"交耐电流(mA)"},{id:"C8B1362C0B5000014F891CF08B274630",code:3,qc:2,description:"接地电阻(mΩ)"}]},n=[{key:1,value:"下限"},{key:2,value:"上限"},{key:3,value:"过程值"}],o=c("3eaf"),p=c("f11f"),l=c("2642"),u={data:function(){var e=this;return{tabList:[],tabSelected:1,rowId:"",sopSelectList:[],sopSelected:"",tableData:[],tableColumns:[{title:"工序",key:"description",minWidth:100},{title:"地址",key:"plcResultAdd",minWidth:120},{title:"参数",key:"describe",render:function(e,t){return e("div",{style:{display:0===t.row.params.length?"none":"block"}},[t.row.params.map((function(t){return e("Tag",{props:{color:"blue"}},t.description)}))])},minWidth:500},{title:"操作",key:"action",minWidth:120,align:"center",render:function(t,c){return t("div",[t("Tooltip",{props:{trigger:"hover",content:"修改",placement:"top",transfer:!0}},[t("Button",{props:{type:"primary",size:"small",icon:"ios-create-outline"},style:{marginRight:"5px"},on:{click:function(){e.edit(c.row)}}})])])}}],tableLoading:!1,buttonLoading:!1,spinShow:!1,modalShow:!1,modalData:{},resultValueShow:!1,resultValueCanBeEdit:!1,processSelectList:[],modalDataDescribe:[],processTempList:[],valueSelectList:n,describeParams:[],processSelected:"",processPlcAdd:"",valueSelected:""}},created:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isMock){e.next=6;break}return e.next=3,Object(l["k"])();case 3:e.t0=e.sent.data.data,e.next=7;break;case 6:e.t0=o["c"];case 7:this.tabList=e.t0,this.tabList.forEach((function(e){t.$set(e,"id",e.id.toString())})),0!==this.tabList.length&&(this.tabSelected=this.tabList[0].id,this.tabSelect(this.tabSelected));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{tabSelect:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tabSelected=t,this.tableLoading=!0,this.isMock){e.next=8;break}return e.next=5,Object(l["g"])(this.tabSelected);case 5:e.t0=e.sent.data.data,e.next=9;break;case 8:e.t0=o["b"][this.tabSelected];case 9:if(this.sopSelectList=e.t0,0!==this.sopSelectList.length?this.sopSearch(this.sopSelectList[0].id):(this.sopSelected="",this.tableLoading=!1),this.isMock){e.next=17;break}return e.next=14,Object(l["f"])(this.tabSelected);case 14:e.t1=e.sent.data.data,e.next=18;break;case 17:e.t1=s[this.tabSelected];case 18:this.processSelectList=e.t1;case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),sopSearch:function(e){this.sopSelected=e,this.getData()},getData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isMock){e.next=7;break}return e.next=3,Object(l["i"])(this.sopSelected);case 3:this.tableData=e.sent.data.data,this.tableLoading=!1,e.next=10;break;case 7:this.tableData=r[this.tabSelected],this.tableLoading=!1,this.refreshData();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),refreshData:function(){},edit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.modalData=JSON.parse(JSON.stringify(t)),this.resultValueShow=""!==this.modalData.plcResultAdd&&null!==this.modalData.plcResultAdd,this.modalDataDescribe=[],this.modalData.params.forEach((function(e){c.modalDataDescribe.push(parseInt(e.code))})),this.describeOnChange(this.modalDataDescribe.sort()),this.isMock?this.describeParams=this.modalData.describeParams:(this.rowId=t.id,this.getDescribeParams()),this.modalShow=!0;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getDescribeParams:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.spinShow=!0,e.next=3,Object(l["l"])(this.rowId);case 3:this.describeParams=e.sent.data.data,this.describeParams.forEach((function(e){t.$set(e,"isEdit",!1),t.$set(e,"loading",!1)})),this.spinShow=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resultValueOnchange:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var c,i,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.resultValueShow=t,!1!==t){e.next=14;break}if(this.resultValueCanBeEdit=!1,this.isMock){e.next=11;break}return c={id:this.rowId,plCAdd:""},e.next=7,Object(l["e"])(c);case 7:i=e.sent,Object(p["d"])(i.data.status,"修改成功！",(function(){})),e.next=12;break;case 11:Object(p["d"])(200,"修改成功！",(function(){d.modalData.plcResultAdd=""}));case 12:e.next=15;break;case 14:this.modalData.plcResultAdd="";case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resultValueSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,c,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===this.modalData.plcResultAdd||"DB"===this.modalData.plcResultAdd.substr(0,2)){e.next=4;break}this.$Message.error("结果值必须以'DB'开头"),e.next=14;break;case 4:if(this.isMock){e.next=13;break}return this.buttonLoading=!0,t={id:this.rowId,plCAdd:this.modalData.plcResultAdd},e.next=9,Object(l["e"])(t);case 9:c=e.sent,Object(p["d"])(c.data.status,"修改成功！",(function(){i.resultValueCanBeEdit=!1,i.buttonLoading=!1}),(function(){i.buttonLoading=!1})),e.next=14;break;case 13:Object(p["d"])(200,"修改成功！",(function(){i.resultValueCanBeEdit=!i.resultValueCanBeEdit}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),describeOnChange:function(e){var t=this;this.processTempList=[],this.modalDataDescribe=this.modalDataDescribe.sort(),this.modalDataDescribe.forEach((function(e){t.processTempList.push(t.processSelectList[e-1])}))},addParams:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,c,i,d,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Object(p["c"])(this.processTempList,"id",this.processSelected,"description"),c=this.valueSelected,"DB"===this.processPlcAdd.substr(0,2)){e.next=6;break}this.$Message.error("过程值/上限/下限均必须以'DB'开头"),e.next=20;break;case 6:if(!this.describeParams.some((function(e){return e.paramDescription===t&&e.plcType===c}))){e.next=10;break}this.$Message.error("添加重复！"),e.next=20;break;case 10:if(this.isMock){e.next=19;break}return this.buttonLoading=!0,i={ItemId:this.rowId,ParamId:this.processSelected,PlcAdd:this.processPlcAdd,Type:c},e.next=15,Object(l["a"])(i);case 15:d=e.sent,Object(p["d"])(d.data.status,"添加成功！",(function(){a.getDescribeParams(),a.$refs.processSelect.clearSingleSelect(),a.$refs.valueSelect.clearSingleSelect(),a.processPlcAdd="",a.buttonLoading=!1}),(function(){a.buttonLoading=!1})),e.next=20;break;case 19:Object(p["d"])(200,"添加成功！",(function(){a.describeParams.push({paramDescription:t,plcType:c,plCAdd:a.processPlcAdd,isEdit:!1}),a.$refs.processSelect.clearSingleSelect(),a.$refs.valueSelect.clearSingleSelect(),a.processPlcAdd=""}));case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submitParams:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("DB"===t.plCAdd.substr(0,2)){e.next=4;break}this.$Message.error("过程值/上限/下限均必须以'DB'开头"),e.next=14;break;case 4:if(this.isMock){e.next=13;break}return c={id:t.id,plcAdd:t.plCAdd},t.loading=!0,e.next=9,Object(l["d"])(c);case 9:i=e.sent,Object(p["d"])(i.data.status,"修改成功！",(function(){t.isEdit=!t.isEdit,t.loading=!1}),(function(){t.loading=!1})),e.next=14;break;case 13:Object(p["d"])(200,"修改成功！",(function(){t.isEdit=!t.isEdit}));case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteParams:function(e){var t=this;this.$Modal.confirm({title:"确定删除？",onOk:function(){var c=Object(a["a"])(regeneratorRuntime.mark((function c(){var i;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(t.isMock){c.next=7;break}return c.next=3,Object(l["q"])(e.id);case 3:i=c.sent,Object(p["d"])(i.data.status,"删除成功！",(function(){t.getDescribeParams()})),c.next=8;break;case 7:Object(p["d"])(200,"删除成功！",(function(){t.describeParams.forEach((function(c,i){c.id===e.id&&t.describeParams.splice(i,1)}))}));case 8:case"end":return c.stop()}}),c)})));function i(){return c.apply(this,arguments)}return i}(),closable:!0})},handleVisibleChange:function(e){var t=this;!1===e&&(this.resultValueCanBeEdit=!1,this.describeParams.forEach((function(e){t.$set(e,"isEdit",!1)})),this.getData())}}},f=u,b=(c("8f7e"),c("2877")),m=Object(b["a"])(f,i,d,!1,null,"e1c85200",null);t["default"]=m.exports},db2d:function(e,t,c){},f11f:function(e,t,c){"use strict";c.d(t,"b",(function(){return d})),c.d(t,"c",(function(){return a})),c.d(t,"a",(function(){return r})),c.d(t,"d",(function(){return s}));c("c5f6"),c("6b54"),c("28a5"),c("4f7f"),c("5df3"),c("1c4c"),c("ac6a");var i=c("e069");function d(e,t){return function(c,i){return"asc"===t||void 0===t||""===t?c[e]>i[e]?1:c[e]<i[e]?-1:0:"desc"===t?c[e]<i[e]?1:c[e]>i[e]?-1:0:void 0}}function a(e,t,c,i){var d="";return e.forEach((function(e){e[t].toString()===c&&(d=e[i])})),d}var r=function(e,t){var c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=0;return e.forEach((function(e){c&&(i+=Number(e[t]))})),i},s=function(e,t,c,d){return 200===e?(i["Message"].success({content:t}),c.call()):d.call()}}}]);